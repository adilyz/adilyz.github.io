Detecting multicollinearity and selection of significant variables is an
important preparation task in prediction model generation. There are
different technics to manage this task, here are my study notes on this
topic.

I will use Boston data set in R to demonstrate these technics.

    data("Boston")
    boston <- as.data.frame(Boston)
    str(boston)

    ## 'data.frame':    506 obs. of  14 variables:
    ##  $ crim   : num  0.00632 0.02731 0.02729 0.03237 0.06905 ...
    ##  $ zn     : num  18 0 0 0 0 0 12.5 12.5 12.5 12.5 ...
    ##  $ indus  : num  2.31 7.07 7.07 2.18 2.18 2.18 7.87 7.87 7.87 7.87 ...
    ##  $ chas   : int  0 0 0 0 0 0 0 0 0 0 ...
    ##  $ nox    : num  0.538 0.469 0.469 0.458 0.458 0.458 0.524 0.524 0.524 0.524 ...
    ##  $ rm     : num  6.58 6.42 7.18 7 7.15 ...
    ##  $ age    : num  65.2 78.9 61.1 45.8 54.2 58.7 66.6 96.1 100 85.9 ...
    ##  $ dis    : num  4.09 4.97 4.97 6.06 6.06 ...
    ##  $ rad    : int  1 2 2 3 3 3 5 5 5 5 ...
    ##  $ tax    : num  296 242 242 222 222 222 311 311 311 311 ...
    ##  $ ptratio: num  15.3 17.8 17.8 18.7 18.7 18.7 15.2 15.2 15.2 15.2 ...
    ##  $ black  : num  397 397 393 395 397 ...
    ##  $ lstat  : num  4.98 9.14 4.03 2.94 5.33 ...
    ##  $ medv   : num  24 21.6 34.7 33.4 36.2 28.7 22.9 27.1 16.5 18.9 ...

Boston data contains 1978's housing information in Boston. You can
simply type ?boston to see the details. I will try to estimate the
housing prices using the predictors. Medv variable is the corresponding
median value of the housing prices(in $1000s) and the other variables
are the predictors.

First thing generally we need to do is to create the training and
testing sets.

    set.seed(1234)
    inTrain <- createDataPartition(y=boston$medv,p=0.7, list=FALSE)
    training <- boston[inTrain,]
    testing <- boston[-inTrain,]
    dim(testing);dim(training)

    ## [1] 150  14

    ## [1] 356  14

Detecting multicollinearity
---------------------------

If your data does not have too many dimension following command simply
gives a general look of your data and you can shortly see what's going
on in general.

    plot(boston)

![](2017-5-21-Feature-Selection_files/figure-markdown_strict/unnamed-chunk-3-1.png)

The plot of pairs shows that there are some trends in data and this
gives an idea of prediction may work well but i do not go into how to
interpret plots now. Instead, we can make the correlation matrix of the
data which makes it easier.

    # Make a matrix of correlations of all predictors
    M <- abs(cor(training[,-14]))

    # Set the diagonal to zero (the correlation of a predictor with itself, it's 1, we know, so we should remove it)
    diag(M) <- 0

    # Find the parameters having correlation over a threshold.
    which(M > 0.7,arr.ind=T)

    ##       row col
    ## nox     5   3
    ## dis     8   3
    ## tax    10   3
    ## indus   3   5
    ## age     7   5
    ## dis     8   5
    ## nox     5   7
    ## dis     8   7
    ## indus   3   8
    ## nox     5   8
    ## age     7   8
    ## tax    10   9
    ## indus   3  10
    ## rad     9  10

Some variables seems to have multicollinearity, we may manually remove
them when building the model but since i would like to demonstrate some
technics for feature selection i will not do that.

Eigen system analysis is a technic which is not only pairwise but also
has more complicated analysis. When the values are close, we can say
that multi-collinearity does not exist. But vice versa, like in this
data, there should be a problem.

    eigen(cor(training))$values

    ##  [1] 6.53779955 1.67117293 1.38710353 0.95993427 0.85284117 0.64903850
    ##  [7] 0.47742824 0.40464360 0.25564310 0.22947201 0.20946720 0.17785106
    ## [13] 0.13408959 0.05351526

    # Condition Number: Ratio of max to min Eigen values of the correlation matrix
    max(eigen(cor(training))$values)/min(eigen(cor(training))$values)

    ## [1] 122.167

    kappa(cor(training), exact = TRUE)

    ## [1] 122.167

Exploratory analysis
--------------------

Intuitionally we may know that crime ratio is an important effect

    plot_ly(training, x = ~crim, y = ~medv, color = ~crim,
            size = ~crim, text = ~paste("Zn: ", zn),type = "scatter", mode="markers" )

<!--html_preserve-->

<script type="application/json" data-for="113c13d069fc">{"x":{"visdat":{"113c77c046c":["function () ","plotlyVisDat"]},"cur_data":"113c77c046c","attrs":{"113c77c046c":{"x":{},"y":{},"text":{},"mode":"markers","color":{},"size":{},"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"title":"crim"},"yaxis":{"domain":[0,1],"title":"medv"},"hovermode":"closest","showlegend":false,"legend":{"y":0.5,"yanchor":"top"}},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.00632,0.02731,0.03237,0.02985,0.08829,0.21124,0.22489,0.09378,0.63796,0.62739,1.05393,0.7842,1.25179,1.23247,0.98843,0.75026,0.84054,0.95577,1.00245,1.38799,1.15172,0.06417,0.09744,0.08014,0.17505,0.02763,0.1415,0.12269,0.17142,0.18836,0.22927,0.25387,0.21977,0.04337,0.0536,0.02055,0.01432,0.15445,0.10328,0.14932,0.17171,0.11027,0.01951,0.03584,0.04379,0.05789,0.13554,0.08826,0.09164,0.09512,0.10153,0.08707,0.05646,0.08387,0.04113,0.04462,0.05059,0.07151,0.0566,0.05302,0.04684,0.03932,0.04203,0.12204,0.11504,0.12083,0.0686,0.21161,0.1396,0.1712,0.13117,0.12802,0.26363,0.10793,0.12329,0.22212,0.15098,0.13058,0.07165,0.09299,0.09849,0.16902,0.25915,0.32543,0.88125,1.19294,0.97617,0.55778,0.32264,0.35233,0.2498,0.54452,0.2909,1.62864,4.0974,2.77974,2.37934,2.15505,2.36862,2.33099,2.73397,1.6566,1.49632,1.12658,1.41385,3.53501,1.22358,1.34284,1.42502,1.27346,1.46336,1.83377,2.924,2.01019,1.80028,2.3004,2.44953,1.20742,2.3139,0.13914,0.08447,0.06664,0.05425,0.06642,0.0578,0.06588,0.06888,0.09103,0.06047,0.12579,0.0837,0.06911,0.08664,0.02187,0.01381,0.04011,0.03768,0.0315,0.01778,0.02177,0.13642,0.22969,0.25199,0.13587,0.17446,0.21719,0.14052,0.28955,0.0456,0.07013,0.11069,0.11425,0.40771,0.62356,0.6147,0.31533,0.52693,0.38214,0.41238,0.29819,0.44178,0.537,0.57529,0.33147,0.51183,0.08244,0.09252,0.11329,0.10612,0.12757,0.19133,0.19073,0.1403,0.21409,0.08221,0.36894,0.04819,0.03548,0.01538,0.61154,0.66351,0.54011,0.52014,0.82526,0.55007,0.76162,0.57834,0.5405,0.09065,0.29916,0.16211,0.05644,0.09604,0.10469,0.07978,0.03705,0.06129,0.01501,0.00906,0.01096,0.03871,0.0459,0.03502,0.03615,0.08265,0.08199,0.12932,0.05372,0.14103,0.06466,0.05561,0.03537,0.09266,0.1,0.05515,0.05479,0.04932,0.49298,0.3494,2.63548,0.26169,0.3692,0.25356,0.31827,0.24522,0.40202,0.1676,0.35114,0.28392,0.34109,0.19186,0.06724,0.04544,0.05023,0.05083,0.03738,0.03427,0.03041,0.03306,0.06151,0.01301,0.02498,0.02543,0.03049,0.03113,0.06162,0.0187,0.02899,0.06211,0.0795,0.07244,0.01709,0.04301,0.10659,8.98296,3.8497,5.20177,4.54192,3.83684,3.67822,4.22239,3.47428,4.55587,3.69695,4.89822,9.2323,19.6091,15.288,9.82349,23.6482,15.8744,9.18702,7.99248,24.3938,22.5971,14.3337,8.15174,6.96215,11.5779,8.64476,13.3598,8.71675,5.87205,7.67202,38.3518,14.2362,9.59571,24.8017,41.5292,20.7162,11.9511,18.811,28.6558,18.0846,10.8342,25.9406,73.5341,11.8123,7.02259,12.0482,7.05042,8.79212,15.8603,37.6619,9.33889,8.49213,10.0623,6.44405,13.9134,15.1772,13.6781,9.72418,5.66637,9.96654,12.8023,6.28807,9.92485,9.32909,6.71772,5.44114,8.24809,4.66883,8.20058,7.75223,6.80117,4.81213,5.82115,7.83932,3.1636,3.77498,4.42228,15.5757,13.0751,4.34879,4.03841,3.56868,4.64689,15.0234,5.82401,5.70818,5.73116,2.81838,2.37857,3.67367,5.69175,4.83567,0.15086,0.18337,0.17331,0.26838,0.23912,0.22438,0.06263,0.04527,0.06076,0.10959],"y":[24,21.6,33.4,28.7,22.9,16.5,15,21.7,18.2,19.9,23.1,17.5,13.6,15.2,14.5,15.6,13.9,14.8,21,13.2,13.1,18.9,20,21,24.7,30.8,25.3,21.2,19.3,20,16.6,14.4,19.4,20.5,25,24.7,31.6,23.3,19.6,18.7,16,22.2,33,23.5,19.4,22,17.4,24.2,22.8,21.4,20,20.8,21.2,20.3,28,23.9,23.9,22.2,23.6,28.7,22.6,22,22.9,28.4,21.4,38.7,33.2,19.3,20.1,19.5,20.4,19.8,19.4,21.7,18.8,18.7,19.2,20.4,20.3,20.5,18.8,21.4,16.2,18,14.3,19.6,15.6,18.1,17.4,17.1,13.3,17.8,14,14.4,15.6,11.8,13.8,15.6,14.6,17.8,15.4,21.5,19.6,15.3,17,15.6,41.3,24.3,23.3,27,50,50,25,50,23.8,23.8,22.3,17.4,19.1,23.1,22.6,29.4,24.6,29.9,37.2,39.8,36.2,37.9,29.6,29.8,34.9,30.5,36.4,31.1,50,33.3,34.6,34.9,32.9,42.3,22.6,24.4,22.5,24.4,21.7,22.4,28.1,23.7,23.3,28.7,21.5,23,21.7,27.5,30.1,44.8,50,37.6,31.6,46.7,31.5,24.3,41.7,48.3,31.5,23.7,23.3,22,20.1,23.7,18.5,26.2,24.4,24.8,29.6,42.8,21.9,20.9,44,50,36,33.8,48.8,31,36.5,22.8,50,43.5,20.7,21.1,25.2,32.4,32,33.2,29.1,35.4,46,50,32.2,22,23.2,22.3,28.5,27.9,23.9,21.7,28.6,27.1,20.3,22.5,29,22,26.4,33.1,36.1,28.4,28.2,22.8,20.3,16.1,19.4,23.8,16.2,17.8,19.8,23.1,23.8,20.4,18.5,25,24.6,22.6,19.8,17.1,22.2,20.7,19.5,18.5,20.6,18.7,32.7,16.5,23.9,31.2,17.5,17.2,23.1,26.6,22.9,24.1,18.6,30.1,18.2,20.6,17.8,21.7,22.7,25,19.9,20.8,16.8,21.9,27.5,21.9,50,50,15,13.9,13.3,13.1,10.9,11.3,12.3,10.5,7.4,10.2,11.5,15.1,9.7,13.8,12.7,13.1,12.5,8.5,5,7.2,12.1,8.3,8.5,11.9,27.9,17.9,16.3,7.2,7.5,10.4,8.8,8.4,14.2,20.8,13.4,11.7,8.3,10.9,9.5,14.5,14.1,16.1,11.7,8.7,8.4,17.1,18.4,15.4,10.8,14.9,12.6,14.1,13.4,15.2,17.8,12.7,13.5,14.9,20,16.4,20.2,21.4,19.9,19,19.1,19.1,20.1,19.9,19.6,23.2,29.8,12,23,23.7,25,21.8,20.6,21.2,19.1,20.6,15.2,7,21.8,18.3,21.2,16.8,22.4,20.6,23.9,22],"text":["Zn:  18","Zn:  0","Zn:  0","Zn:  0","Zn:  12.5","Zn:  12.5","Zn:  12.5","Zn:  12.5","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  75","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  21","Zn:  21","Zn:  85","Zn:  100","Zn:  25","Zn:  25","Zn:  25","Zn:  25","Zn:  25","Zn:  17.5","Zn:  80","Zn:  80","Zn:  12.5","Zn:  12.5","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  25","Zn:  25","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  28","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  45","Zn:  45","Zn:  45","Zn:  45","Zn:  60","Zn:  80","Zn:  80","Zn:  80","Zn:  95","Zn:  95","Zn:  82.5","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  30","Zn:  30","Zn:  30","Zn:  30","Zn:  30","Zn:  22","Zn:  22","Zn:  22","Zn:  22","Zn:  22","Zn:  22","Zn:  80","Zn:  80","Zn:  90","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  40","Zn:  40","Zn:  40","Zn:  40","Zn:  20","Zn:  20","Zn:  90","Zn:  90","Zn:  55","Zn:  52.5","Zn:  52.5","Zn:  80","Zn:  80","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  70","Zn:  70","Zn:  34","Zn:  34","Zn:  34","Zn:  33","Zn:  33","Zn:  33","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  35","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  35","Zn:  0","Zn:  55","Zn:  55","Zn:  0","Zn:  0","Zn:  85","Zn:  40","Zn:  40","Zn:  60","Zn:  60","Zn:  90","Zn:  80","Zn:  80","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0"],"mode":"markers","type":"scatter","marker":{"size":[10,10.0256923301642,10.0318859076121,10.0288013591598,10.1003335066012,10.2508276463671,10.2675356171504,10.1070534157294,10.7731445176231,10.7602065505038,11.2823030968703,10.9521462500296,11.5244891114624,11.5008409066614,11.2021293176538,10.9106027680966,11.0211079404274,11.1621525904903,11.2192901784876,11.6912016111462,11.4020007131998,10.0708099714149,10.1115333551482,10.0903576852178,10.2065301033161,10.0260840188565,10.1654639919769,10.1424400410294,10.2020868847121,10.2228219048637,10.272896856127,10.3030079243519,10.2612685980727,10.0453502064118,10.0578720042955,10.0174179065382,10.0097922173089,10.1813151437457,10.1186816737837,10.1750358843963,10.2024418525896,10.1272376236573,10.016144918288,10.0361332818698,10.0458642978205,10.0631230808274,10.1581687900818,10.1002967857863,10.1044339975993,10.1086936121286,10.1165396262474,10.0988401934616,10.0613727219834,10.094923306538,10.0426083855653,10.0468802403663,10.0541876825331,10.0797943307958,10.0615440857864,10.0571620685406,10.0495975806695,10.0403928963992,10.0437100100125,10.141644423373,10.1330762332278,10.1401633505051,10.0762324117497,10.2512805364177,10.1631383403661,10.2018175987362,10.1528197913768,10.1489641058114,10.3149544294687,10.1243734000945,10.1431744573276,10.2641450619072,10.1770677694879,10.1520976153503,10.0799656945987,10.1060864342701,10.11281858367,10.1991492195195,10.3094707877757,10.3905993081798,11.070938086258,11.4524551128839,11.1871227446279,10.6750020196448,10.3871842723934,10.423525638881,10.298026133796,10.6587714194553,10.3483336502204,11.9857637480691,15.0075930485049,13.3947414161015,12.9046409397917,12.6301038872655,12.8915193685978,12.8454592264312,13.338717692823,12.0199875475637,11.8238004737801,11.3712286703067,11.7228549535971,14.3192124119618,11.4899593051769,11.6359367847091,11.7365273370147,11.5510137800978,11.7834565384675,12.2368484401406,13.571319574724,12.4527913123448,12.1958557704313,12.8080162354963,12.9905554064056,11.4701790262129,12.824540602205,10.1625752878708,10.0956577228362,10.073833318509,10.0586676219519,10.073564032533,10.0630129183827,10.0729030578647,10.0765751393555,10.1036873410295,10.0662810709095,10.1462345252366,10.0947152219202,10.0768566656031,10.0983138617812,10.0190336223941,10.0091679634554,10.0413598778584,10.0383854918508,10.0308210039797,10.014027351295,10.0189112196778,10.1592459339858,10.2734109475357,10.3007067532843,10.1585727190458,10.2058079272895,10.2581106079906,10.1642644453566,10.3466812135495,10.0480797869866,10.07810517331,10.1277517150661,10.1321092517685,10.4913122632017,10.7555185264671,10.7446736457975,10.3782366338274,10.6372407816474,10.4600138886282,10.4970284700558,10.3572568082431,10.533014868666,10.649566735185,10.6964347352796,10.3979924322481,10.6187579714769,10.0931729476941,10.1055111415033,10.1309341856914,10.1221579109284,10.1484132935878,10.2264572655396,10.2257228492415,10.1639951593806,10.2543161237834,10.0928914214464,10.4438567300686,10.0512500173404,10.0356926320909,10.0110896861023,10.7408057199605,10.8044184116534,10.6533734596638,10.6289296372065,11.0024048053674,10.6655647702134,10.9245077166752,10.7001680181287,10.6538508302576,10.1032222107073,10.3584441145918,10.1906911918189,10.0613482414402,10.1098197171192,10.1204075520844,10.0899170354388,10.0376143547378,10.0672847731837,10.0106367960518,10.0033538344283,10.0056794860392,10.0396462398294,10.0484469951357,10.0351295795956,10.0365127302905,10.0934299933984,10.0926221354704,10.1505553411241,10.0580188875552,10.16488869921,10.0714097447251,10.0603322988944,10.0355579891029,10.1056825053062,10.1146668646871,10.0597692463991,10.0593285966202,10.0526331680353,10.5956850594428,10.4199392392916,13.218163257479,10.3125798167713,10.4441749771311,10.3026284759311,10.3818352736884,10.2924200893866,10.4843475486408,10.1974111009472,10.4220690465563,10.3397899406184,10.409767573562,10.2271059999364,10.0745677348072,10.0478839426405,10.0537470327542,10.0544814490523,10.0380182837018,10.0342115592229,10.0294868143714,10.032730486355,10.0675540591597,10.0081887417246,10.022840346873,10.0233911590966,10.0295847365445,10.0303681139292,10.0676887021477,10.0151534562855,10.0277486957991,10.0682884754578,10.089574307833,10.0809326760579,10.0131827725521,10.0449095566329,10.1227332036953,20.9876511979554,14.7044015200785,16.3593719271818,15.5516976032732,14.6886605307545,14.4945053420626,15.1605842036846,14.2448772423158,15.5687727822056,14.517431370837,15.9878184816677,21.2928501309301,33.9943352022868,28.7051914256081,22.0164827497852,38.9383033188273,29.4229609543495,21.2374261809618,19.7752767729421,39.8509379720155,37.6517283671559,27.5371023033743,19.9702153390188,18.514124865459,24.1639282458956,20.5736852112222,26.3450222487337,20.6618029267306,17.1798128544069,19.3830250280914,56.9359091216952,27.4177596549223,21.7376738424579,40.3502186520523,60.8251330313522,35.3494556751203,24.6207351833552,33.017439123009,45.0677417433248,32.1283057913621,23.2536192443183,41.7442631886887,100,24.450840213046,18.5881050672277,24.7395882209418,18.6221697431909,20.7540578540519,29.4057021713426,56.0914527815201,21.4233191862994,20.3868619452403,22.3087926767271,17.8799563919923,27.0226436865087,28.56956921588,26.7346300949111,21.894924612167,16.9280549473954,22.1915798355397,25.6626271050207,17.6890326350122,22.1405501430888,21.411323720096,18.2149359058576,16.6523673093353,20.0881503562327,15.7070388906071,20.0299968256896,19.4812042468846,18.3170809726609,15.8824419831525,17.1175098717791,19.5878047725635,13.8645964831252,14.6129422104135,15.4052549934188,29.057344040579,25.9965417152537,15.3153012371651,14.9353876861235,14.3604254065606,15.6801837346374,28.3813138381167,17.121010589467,16.979231523106,17.0073596673257,13.4420378257034,12.9036984388758,14.4889360184681,16.9591207568078,15.9112555825839,10.1769208862283,10.2167140093173,10.2044002960514,10.3207685584958,10.2849535236886,10.266911363297,10.0689249695829,10.0476758580226,10.066636038787,10.1264052851861],"sizemode":"area","colorbar":{"title":"crim","ticklen":2},"cmin":0.00632,"cmax":73.5341,"colorscale":[["0","rgba(68,1,84,1)"],["0.000244969769702463","rgba(68,1,84,1)"],["0.00039596145384325","rgba(68,1,84,1)"],["0.000524206633193604","rgba(68,1,84,1)"],["0.000660022647222587","rgba(68,1,84,1)"],["0.000785904774132081","rgba(68,1,84,1)"],["0.00100275025303362","rgba(68,1,84,1)"],["0.00116686056163625","rgba(68,1,84,1)"],["0.00138945216805585","rgba(68,2,84,1)"],["0.00169097652615107","rgba(68,2,85,1)"],["0.00211010949421656","rgba(68,2,85,1)"],["0.00279053826095842","rgba(68,2,85,1)"],["0.00340265951181989","rgba(68,2,85,1)"],["0.00458593677110882","rgba(68,3,85,1)"],["0.00722093291360989","rgba(68,4,86,1)"],["0.0102529955344769","rgba(69,5,87,1)"],["0.0166357078462952","rgba(69,8,89,1)"],["0.0301294116319029","rgba(70,14,94,1)"],["0.0481057295623505","rgba(71,21,99,1)"],["0.0631255855496612","rgba(71,26,104,1)"],["0.0872015085092101","rgba(72,33,112,1)"],["0.118097319815721","rgba(72,42,121,1)"],["0.158705276654166","rgba(69,55,127,1)"],["0.215658863901508","rgba(63,72,136,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[0.00632,0.02731,0.03237,0.02985,0.08829,0.21124,0.22489,0.09378,0.63796,0.62739,1.05393,0.7842,1.25179,1.23247,0.98843,0.75026,0.84054,0.95577,1.00245,1.38799,1.15172,0.06417,0.09744,0.08014,0.17505,0.02763,0.1415,0.12269,0.17142,0.18836,0.22927,0.25387,0.21977,0.04337,0.0536,0.02055,0.01432,0.15445,0.10328,0.14932,0.17171,0.11027,0.01951,0.03584,0.04379,0.05789,0.13554,0.08826,0.09164,0.09512,0.10153,0.08707,0.05646,0.08387,0.04113,0.04462,0.05059,0.07151,0.0566,0.05302,0.04684,0.03932,0.04203,0.12204,0.11504,0.12083,0.0686,0.21161,0.1396,0.1712,0.13117,0.12802,0.26363,0.10793,0.12329,0.22212,0.15098,0.13058,0.07165,0.09299,0.09849,0.16902,0.25915,0.32543,0.88125,1.19294,0.97617,0.55778,0.32264,0.35233,0.2498,0.54452,0.2909,1.62864,4.0974,2.77974,2.37934,2.15505,2.36862,2.33099,2.73397,1.6566,1.49632,1.12658,1.41385,3.53501,1.22358,1.34284,1.42502,1.27346,1.46336,1.83377,2.924,2.01019,1.80028,2.3004,2.44953,1.20742,2.3139,0.13914,0.08447,0.06664,0.05425,0.06642,0.0578,0.06588,0.06888,0.09103,0.06047,0.12579,0.0837,0.06911,0.08664,0.02187,0.01381,0.04011,0.03768,0.0315,0.01778,0.02177,0.13642,0.22969,0.25199,0.13587,0.17446,0.21719,0.14052,0.28955,0.0456,0.07013,0.11069,0.11425,0.40771,0.62356,0.6147,0.31533,0.52693,0.38214,0.41238,0.29819,0.44178,0.537,0.57529,0.33147,0.51183,0.08244,0.09252,0.11329,0.10612,0.12757,0.19133,0.19073,0.1403,0.21409,0.08221,0.36894,0.04819,0.03548,0.01538,0.61154,0.66351,0.54011,0.52014,0.82526,0.55007,0.76162,0.57834,0.5405,0.09065,0.29916,0.16211,0.05644,0.09604,0.10469,0.07978,0.03705,0.06129,0.01501,0.00906,0.01096,0.03871,0.0459,0.03502,0.03615,0.08265,0.08199,0.12932,0.05372,0.14103,0.06466,0.05561,0.03537,0.09266,0.1,0.05515,0.05479,0.04932,0.49298,0.3494,2.63548,0.26169,0.3692,0.25356,0.31827,0.24522,0.40202,0.1676,0.35114,0.28392,0.34109,0.19186,0.06724,0.04544,0.05023,0.05083,0.03738,0.03427,0.03041,0.03306,0.06151,0.01301,0.02498,0.02543,0.03049,0.03113,0.06162,0.0187,0.02899,0.06211,0.0795,0.07244,0.01709,0.04301,0.10659,8.98296,3.8497,5.20177,4.54192,3.83684,3.67822,4.22239,3.47428,4.55587,3.69695,4.89822,9.2323,19.6091,15.288,9.82349,23.6482,15.8744,9.18702,7.99248,24.3938,22.5971,14.3337,8.15174,6.96215,11.5779,8.64476,13.3598,8.71675,5.87205,7.67202,38.3518,14.2362,9.59571,24.8017,41.5292,20.7162,11.9511,18.811,28.6558,18.0846,10.8342,25.9406,73.5341,11.8123,7.02259,12.0482,7.05042,8.79212,15.8603,37.6619,9.33889,8.49213,10.0623,6.44405,13.9134,15.1772,13.6781,9.72418,5.66637,9.96654,12.8023,6.28807,9.92485,9.32909,6.71772,5.44114,8.24809,4.66883,8.20058,7.75223,6.80117,4.81213,5.82115,7.83932,3.1636,3.77498,4.42228,15.5757,13.0751,4.34879,4.03841,3.56868,4.64689,15.0234,5.82401,5.70818,5.73116,2.81838,2.37857,3.67367,5.69175,4.83567,0.15086,0.18337,0.17331,0.26838,0.23912,0.22438,0.06263,0.04527,0.06076,0.10959],"line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.00632,73.5341],"y":[5,50],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"crim","ticklen":2,"len":0.5,"y":1,"lenmode":"fraction","yanchor":"top"},"cmin":0.00632,"cmax":73.5341,"colorscale":[["0","rgba(68,1,84,1)"],["0.000244969769702463","rgba(68,1,84,1)"],["0.00039596145384325","rgba(68,1,84,1)"],["0.000524206633193604","rgba(68,1,84,1)"],["0.000660022647222587","rgba(68,1,84,1)"],["0.000785904774132081","rgba(68,1,84,1)"],["0.00100275025303362","rgba(68,1,84,1)"],["0.00116686056163625","rgba(68,1,84,1)"],["0.00138945216805585","rgba(68,2,84,1)"],["0.00169097652615107","rgba(68,2,85,1)"],["0.00211010949421656","rgba(68,2,85,1)"],["0.00279053826095842","rgba(68,2,85,1)"],["0.00340265951181989","rgba(68,2,85,1)"],["0.00458593677110882","rgba(68,3,85,1)"],["0.00722093291360989","rgba(68,4,86,1)"],["0.0102529955344769","rgba(69,5,87,1)"],["0.0166357078462952","rgba(69,8,89,1)"],["0.0301294116319029","rgba(70,14,94,1)"],["0.0481057295623505","rgba(71,21,99,1)"],["0.0631255855496612","rgba(71,26,104,1)"],["0.0872015085092101","rgba(72,33,112,1)"],["0.118097319815721","rgba(72,42,121,1)"],["0.158705276654166","rgba(69,55,127,1)"],["0.215658863901508","rgba(63,72,136,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[0.00632,73.5341]},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<!--/html_preserve-->
Graph shows that crime ratio has a trend with housing prices as
expected.

The same visualization can be made for other features as well.

    plot_ly(training, x = ~indus, y = ~medv, color = ~indus,
            size = ~indus, text = ~paste("Zn: ", zn),type = "scatter", mode="markers" )

<!--html_preserve-->

<script type="application/json" data-for="113c3427269e">{"x":{"visdat":{"113c6db56f93":["function () ","plotlyVisDat"]},"cur_data":"113c6db56f93","attrs":{"113c6db56f93":{"x":{},"y":{},"text":{},"mode":"markers","color":{},"size":{},"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"title":"indus"},"yaxis":{"domain":[0,1],"title":"medv"},"hovermode":"closest","showlegend":false,"legend":{"y":0.5,"yanchor":"top"}},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[2.31,7.07,2.18,2.18,7.87,7.87,7.87,7.87,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,5.96,5.96,5.96,5.96,2.95,6.91,6.91,6.91,6.91,6.91,6.91,6.91,5.64,5.64,0.74,1.32,5.13,5.13,5.13,5.13,5.13,1.38,3.37,3.37,6.07,6.07,10.81,10.81,12.83,12.83,12.83,12.83,12.83,4.86,4.86,4.49,4.49,3.41,3.41,3.41,3.41,15.04,2.89,2.89,2.89,2.89,8.56,8.56,8.56,8.56,8.56,8.56,8.56,10.01,10.01,10.01,10.01,25.65,25.65,25.65,25.65,21.89,21.89,21.89,21.89,21.89,21.89,21.89,21.89,21.89,21.89,21.89,21.89,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,4.05,4.05,4.05,4.05,4.05,2.46,2.46,2.46,2.46,2.46,3.44,3.44,3.44,3.44,2.93,0.46,1.52,1.52,1.47,1.47,2.03,10.59,10.59,10.59,10.59,10.59,10.59,10.59,10.59,13.89,13.89,13.89,13.89,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,4.93,4.93,4.93,4.93,4.93,5.86,5.86,5.86,5.86,5.86,5.86,3.64,3.64,3.75,3.97,3.97,3.97,3.97,3.97,3.97,3.97,3.97,3.97,6.96,6.96,6.96,6.41,6.41,6.41,6.41,3.33,3.33,1.21,2.97,2.25,5.32,5.32,4.95,4.95,13.92,13.92,13.92,13.92,13.92,2.24,2.24,6.09,6.09,6.09,2.18,2.18,2.18,9.9,9.9,9.9,9.9,9.9,9.9,9.9,9.9,9.9,7.38,7.38,7.38,7.38,7.38,3.24,3.24,6.06,5.19,5.19,5.19,5.19,5.19,5.19,1.52,1.89,3.78,3.78,4.39,4.39,4.15,1.25,1.25,1.69,1.69,2.02,1.91,1.91,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,27.74,27.74,9.69,9.69,9.69,9.69,11.93,11.93,11.93,11.93],"y":[24,21.6,33.4,28.7,22.9,16.5,15,21.7,18.2,19.9,23.1,17.5,13.6,15.2,14.5,15.6,13.9,14.8,21,13.2,13.1,18.9,20,21,24.7,30.8,25.3,21.2,19.3,20,16.6,14.4,19.4,20.5,25,24.7,31.6,23.3,19.6,18.7,16,22.2,33,23.5,19.4,22,17.4,24.2,22.8,21.4,20,20.8,21.2,20.3,28,23.9,23.9,22.2,23.6,28.7,22.6,22,22.9,28.4,21.4,38.7,33.2,19.3,20.1,19.5,20.4,19.8,19.4,21.7,18.8,18.7,19.2,20.4,20.3,20.5,18.8,21.4,16.2,18,14.3,19.6,15.6,18.1,17.4,17.1,13.3,17.8,14,14.4,15.6,11.8,13.8,15.6,14.6,17.8,15.4,21.5,19.6,15.3,17,15.6,41.3,24.3,23.3,27,50,50,25,50,23.8,23.8,22.3,17.4,19.1,23.1,22.6,29.4,24.6,29.9,37.2,39.8,36.2,37.9,29.6,29.8,34.9,30.5,36.4,31.1,50,33.3,34.6,34.9,32.9,42.3,22.6,24.4,22.5,24.4,21.7,22.4,28.1,23.7,23.3,28.7,21.5,23,21.7,27.5,30.1,44.8,50,37.6,31.6,46.7,31.5,24.3,41.7,48.3,31.5,23.7,23.3,22,20.1,23.7,18.5,26.2,24.4,24.8,29.6,42.8,21.9,20.9,44,50,36,33.8,48.8,31,36.5,22.8,50,43.5,20.7,21.1,25.2,32.4,32,33.2,29.1,35.4,46,50,32.2,22,23.2,22.3,28.5,27.9,23.9,21.7,28.6,27.1,20.3,22.5,29,22,26.4,33.1,36.1,28.4,28.2,22.8,20.3,16.1,19.4,23.8,16.2,17.8,19.8,23.1,23.8,20.4,18.5,25,24.6,22.6,19.8,17.1,22.2,20.7,19.5,18.5,20.6,18.7,32.7,16.5,23.9,31.2,17.5,17.2,23.1,26.6,22.9,24.1,18.6,30.1,18.2,20.6,17.8,21.7,22.7,25,19.9,20.8,16.8,21.9,27.5,21.9,50,50,15,13.9,13.3,13.1,10.9,11.3,12.3,10.5,7.4,10.2,11.5,15.1,9.7,13.8,12.7,13.1,12.5,8.5,5,7.2,12.1,8.3,8.5,11.9,27.9,17.9,16.3,7.2,7.5,10.4,8.8,8.4,14.2,20.8,13.4,11.7,8.3,10.9,9.5,14.5,14.1,16.1,11.7,8.7,8.4,17.1,18.4,15.4,10.8,14.9,12.6,14.1,13.4,15.2,17.8,12.7,13.5,14.9,20,16.4,20.2,21.4,19.9,19,19.1,19.1,20.1,19.9,19.6,23.2,29.8,12,23,23.7,25,21.8,20.6,21.2,19.1,20.6,15.2,7,21.8,18.3,21.2,16.8,22.4,20.6,23.9,22],"text":["Zn:  18","Zn:  0","Zn:  0","Zn:  0","Zn:  12.5","Zn:  12.5","Zn:  12.5","Zn:  12.5","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  75","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  21","Zn:  21","Zn:  85","Zn:  100","Zn:  25","Zn:  25","Zn:  25","Zn:  25","Zn:  25","Zn:  17.5","Zn:  80","Zn:  80","Zn:  12.5","Zn:  12.5","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  25","Zn:  25","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  28","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  45","Zn:  45","Zn:  45","Zn:  45","Zn:  60","Zn:  80","Zn:  80","Zn:  80","Zn:  95","Zn:  95","Zn:  82.5","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  30","Zn:  30","Zn:  30","Zn:  30","Zn:  30","Zn:  22","Zn:  22","Zn:  22","Zn:  22","Zn:  22","Zn:  22","Zn:  80","Zn:  80","Zn:  90","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  40","Zn:  40","Zn:  40","Zn:  40","Zn:  20","Zn:  20","Zn:  90","Zn:  90","Zn:  55","Zn:  52.5","Zn:  52.5","Zn:  80","Zn:  80","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  70","Zn:  70","Zn:  34","Zn:  34","Zn:  34","Zn:  33","Zn:  33","Zn:  33","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  35","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  35","Zn:  0","Zn:  55","Zn:  55","Zn:  0","Zn:  0","Zn:  85","Zn:  40","Zn:  40","Zn:  60","Zn:  60","Zn:  90","Zn:  80","Zn:  80","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0"],"mode":"markers","type":"scatter","marker":{"size":[16.1033724340176,31.8071847507331,15.6744868035191,15.6744868035191,34.4464809384164,34.4464809384164,34.4464809384164,34.4464809384164,35.3372434017595,35.3372434017595,35.3372434017595,35.3372434017595,35.3372434017595,35.3372434017595,35.3372434017595,35.3372434017595,35.3372434017595,35.3372434017595,35.3372434017595,35.3372434017595,35.3372434017595,28.1451612903226,28.1451612903226,28.1451612903226,28.1451612903226,18.2148093841642,31.2793255131965,31.2793255131965,31.2793255131965,31.2793255131965,31.2793255131965,31.2793255131965,31.2793255131965,27.0894428152493,27.0894428152493,10.9237536656891,12.8372434017595,25.4068914956012,25.4068914956012,25.4068914956012,25.4068914956012,25.4068914956012,13.0351906158358,19.6004398826979,19.6004398826979,28.508064516129,28.508064516129,44.1458944281525,44.1458944281525,50.8101173020528,50.8101173020528,50.8101173020528,50.8101173020528,50.8101173020528,24.5161290322581,24.5161290322581,23.2954545454545,23.2954545454545,19.7324046920821,19.7324046920821,19.7324046920821,19.7324046920821,58.1011730205279,18.016862170088,18.016862170088,18.016862170088,18.016862170088,36.7228739002933,36.7228739002933,36.7228739002933,36.7228739002933,36.7228739002933,36.7228739002933,36.7228739002933,41.5065982404692,41.5065982404692,41.5065982404692,41.5065982404692,93.1048387096774,93.1048387096774,93.1048387096774,93.1048387096774,80.700146627566,80.700146627566,80.700146627566,80.700146627566,80.700146627566,80.700146627566,80.700146627566,80.700146627566,80.700146627566,80.700146627566,80.700146627566,80.700146627566,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,73.0791788856305,21.8438416422287,21.8438416422287,21.8438416422287,21.8438416422287,21.8438416422287,16.5982404692082,16.5982404692082,16.5982404692082,16.5982404692082,16.5982404692082,19.8313782991202,19.8313782991202,19.8313782991202,19.8313782991202,18.1488269794721,10,13.4970674486804,13.4970674486804,13.3321114369501,13.3321114369501,15.1796187683284,43.4200879765396,43.4200879765396,43.4200879765396,43.4200879765396,43.4200879765396,43.4200879765396,43.4200879765396,43.4200879765396,54.3071847507331,54.3071847507331,54.3071847507331,54.3071847507331,28.9369501466276,28.9369501466276,28.9369501466276,28.9369501466276,28.9369501466276,28.9369501466276,28.9369501466276,28.9369501466276,28.9369501466276,28.9369501466276,28.9369501466276,28.9369501466276,28.9369501466276,24.7470674486804,24.7470674486804,24.7470674486804,24.7470674486804,24.7470674486804,27.8152492668622,27.8152492668622,27.8152492668622,27.8152492668622,27.8152492668622,27.8152492668622,20.4912023460411,20.4912023460411,20.8541055718475,21.5799120234604,21.5799120234604,21.5799120234604,21.5799120234604,21.5799120234604,21.5799120234604,21.5799120234604,21.5799120234604,21.5799120234604,31.4442815249267,31.4442815249267,31.4442815249267,29.6297653958944,29.6297653958944,29.6297653958944,29.6297653958944,19.4684750733138,19.4684750733138,12.4743401759531,18.2807917888563,15.9054252199413,26.033724340176,26.033724340176,24.8130498533724,24.8130498533724,54.4061583577713,54.4061583577713,54.4061583577713,54.4061583577713,54.4061583577713,15.8724340175953,15.8724340175953,28.5740469208211,28.5740469208211,28.5740469208211,15.6744868035191,15.6744868035191,15.6744868035191,41.1436950146628,41.1436950146628,41.1436950146628,41.1436950146628,41.1436950146628,41.1436950146628,41.1436950146628,41.1436950146628,41.1436950146628,32.8299120234604,32.8299120234604,32.8299120234604,32.8299120234604,32.8299120234604,19.1715542521994,19.1715542521994,28.475073313783,25.6048387096774,25.6048387096774,25.6048387096774,25.6048387096774,25.6048387096774,25.6048387096774,13.4970674486804,14.7177419354839,20.9530791788856,20.9530791788856,22.9655425219941,22.9655425219941,22.1737536656892,12.6063049853372,12.6063049853372,14.0579178885631,14.0579178885631,15.1466275659824,14.783724340176,14.783724340176,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,68.1964809384164,100,100,40.4508797653959,40.4508797653959,40.4508797653959,40.4508797653959,47.8409090909091,47.8409090909091,47.8409090909091,47.8409090909091],"sizemode":"area","colorbar":{"title":"indus","ticklen":2},"cmin":0.46,"cmax":27.74,"colorscale":[["0","rgba(68,1,84,1)"],["0.0529997556207234","rgba(71,23,101,1)"],["0.0733137829912024","rgba(71,29,108,1)"],["0.106671554252199","rgba(72,39,119,1)"],["0.12866568914956","rgba(71,46,123,1)"],["0.143695014662757","rgba(70,51,125,1)"],["0.171187683284457","rgba(68,59,129,1)"],["0.197947214076246","rgba(65,67,133,1)"],["0.210410557184751","rgba(64,71,135,1)"],["0.218108504398827","rgba(63,73,136,1)"],["0.25366568914956","rgba(60,83,138,1)"],["0.281524926686217","rgba(57,90,140,1)"],["0.338343108504399","rgba(49,105,142,1)"],["0.37133431085044","rgba(47,113,142,1)"],["0.453445747800586","rgba(38,132,142,1)"],["0.646627565982405","rgba(50,178,124,1)"],["0.700879765395894","rgba(75,190,112,1)"],["0.785557184750733","rgba(115,206,87,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[2.31,7.07,2.18,2.18,7.87,7.87,7.87,7.87,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,8.14,5.96,5.96,5.96,5.96,2.95,6.91,6.91,6.91,6.91,6.91,6.91,6.91,5.64,5.64,0.74,1.32,5.13,5.13,5.13,5.13,5.13,1.38,3.37,3.37,6.07,6.07,10.81,10.81,12.83,12.83,12.83,12.83,12.83,4.86,4.86,4.49,4.49,3.41,3.41,3.41,3.41,15.04,2.89,2.89,2.89,2.89,8.56,8.56,8.56,8.56,8.56,8.56,8.56,10.01,10.01,10.01,10.01,25.65,25.65,25.65,25.65,21.89,21.89,21.89,21.89,21.89,21.89,21.89,21.89,21.89,21.89,21.89,21.89,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,19.58,4.05,4.05,4.05,4.05,4.05,2.46,2.46,2.46,2.46,2.46,3.44,3.44,3.44,3.44,2.93,0.46,1.52,1.52,1.47,1.47,2.03,10.59,10.59,10.59,10.59,10.59,10.59,10.59,10.59,13.89,13.89,13.89,13.89,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,6.2,4.93,4.93,4.93,4.93,4.93,5.86,5.86,5.86,5.86,5.86,5.86,3.64,3.64,3.75,3.97,3.97,3.97,3.97,3.97,3.97,3.97,3.97,3.97,6.96,6.96,6.96,6.41,6.41,6.41,6.41,3.33,3.33,1.21,2.97,2.25,5.32,5.32,4.95,4.95,13.92,13.92,13.92,13.92,13.92,2.24,2.24,6.09,6.09,6.09,2.18,2.18,2.18,9.9,9.9,9.9,9.9,9.9,9.9,9.9,9.9,9.9,7.38,7.38,7.38,7.38,7.38,3.24,3.24,6.06,5.19,5.19,5.19,5.19,5.19,5.19,1.52,1.89,3.78,3.78,4.39,4.39,4.15,1.25,1.25,1.69,1.69,2.02,1.91,1.91,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,18.1,27.74,27.74,9.69,9.69,9.69,9.69,11.93,11.93,11.93,11.93],"line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.46,27.74],"y":[5,50],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"indus","ticklen":2,"len":0.5,"y":1,"lenmode":"fraction","yanchor":"top"},"cmin":0.46,"cmax":27.74,"colorscale":[["0","rgba(68,1,84,1)"],["0.0529997556207234","rgba(71,23,101,1)"],["0.0733137829912024","rgba(71,29,108,1)"],["0.106671554252199","rgba(72,39,119,1)"],["0.12866568914956","rgba(71,46,123,1)"],["0.143695014662757","rgba(70,51,125,1)"],["0.171187683284457","rgba(68,59,129,1)"],["0.197947214076246","rgba(65,67,133,1)"],["0.210410557184751","rgba(64,71,135,1)"],["0.218108504398827","rgba(63,73,136,1)"],["0.25366568914956","rgba(60,83,138,1)"],["0.281524926686217","rgba(57,90,140,1)"],["0.338343108504399","rgba(49,105,142,1)"],["0.37133431085044","rgba(47,113,142,1)"],["0.453445747800586","rgba(38,132,142,1)"],["0.646627565982405","rgba(50,178,124,1)"],["0.700879765395894","rgba(75,190,112,1)"],["0.785557184750733","rgba(115,206,87,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[0.46,27.74]},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<!--/html_preserve-->
    plot_ly(training, x = ~chas, y = ~medv,type = "box")

<!--html_preserve-->

<script type="application/json" data-for="113caf9ed4">{"x":{"visdat":{"113c11a82f28":["function () ","plotlyVisDat"]},"cur_data":"113c11a82f28","attrs":{"113c11a82f28":{"x":{},"y":{},"alpha":1,"sizes":[10,100],"type":"box"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"title":"chas"},"yaxis":{"domain":[0,1],"title":"medv"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"y":[24,21.6,33.4,28.7,22.9,16.5,15,21.7,18.2,19.9,23.1,17.5,13.6,15.2,14.5,15.6,13.9,14.8,21,13.2,13.1,18.9,20,21,24.7,30.8,25.3,21.2,19.3,20,16.6,14.4,19.4,20.5,25,24.7,31.6,23.3,19.6,18.7,16,22.2,33,23.5,19.4,22,17.4,24.2,22.8,21.4,20,20.8,21.2,20.3,28,23.9,23.9,22.2,23.6,28.7,22.6,22,22.9,28.4,21.4,38.7,33.2,19.3,20.1,19.5,20.4,19.8,19.4,21.7,18.8,18.7,19.2,20.4,20.3,20.5,18.8,21.4,16.2,18,14.3,19.6,15.6,18.1,17.4,17.1,13.3,17.8,14,14.4,15.6,11.8,13.8,15.6,14.6,17.8,15.4,21.5,19.6,15.3,17,15.6,41.3,24.3,23.3,27,50,50,25,50,23.8,23.8,22.3,17.4,19.1,23.1,22.6,29.4,24.6,29.9,37.2,39.8,36.2,37.9,29.6,29.8,34.9,30.5,36.4,31.1,50,33.3,34.6,34.9,32.9,42.3,22.6,24.4,22.5,24.4,21.7,22.4,28.1,23.7,23.3,28.7,21.5,23,21.7,27.5,30.1,44.8,50,37.6,31.6,46.7,31.5,24.3,41.7,48.3,31.5,23.7,23.3,22,20.1,23.7,18.5,26.2,24.4,24.8,29.6,42.8,21.9,20.9,44,50,36,33.8,48.8,31,36.5,22.8,50,43.5,20.7,21.1,25.2,32.4,32,33.2,29.1,35.4,46,50,32.2,22,23.2,22.3,28.5,27.9,23.9,21.7,28.6,27.1,20.3,22.5,29,22,26.4,33.1,36.1,28.4,28.2,22.8,20.3,16.1,19.4,23.8,16.2,17.8,19.8,23.1,23.8,20.4,18.5,25,24.6,22.6,19.8,17.1,22.2,20.7,19.5,18.5,20.6,18.7,32.7,16.5,23.9,31.2,17.5,17.2,23.1,26.6,22.9,24.1,18.6,30.1,18.2,20.6,17.8,21.7,22.7,25,19.9,20.8,16.8,21.9,27.5,21.9,50,50,15,13.9,13.3,13.1,10.9,11.3,12.3,10.5,7.4,10.2,11.5,15.1,9.7,13.8,12.7,13.1,12.5,8.5,5,7.2,12.1,8.3,8.5,11.9,27.9,17.9,16.3,7.2,7.5,10.4,8.8,8.4,14.2,20.8,13.4,11.7,8.3,10.9,9.5,14.5,14.1,16.1,11.7,8.7,8.4,17.1,18.4,15.4,10.8,14.9,12.6,14.1,13.4,15.2,17.8,12.7,13.5,14.9,20,16.4,20.2,21.4,19.9,19,19.1,19.1,20.1,19.9,19.6,23.2,29.8,12,23,23.7,25,21.8,20.6,21.2,19.1,20.6,15.2,7,21.8,18.3,21.2,16.8,22.4,20.6,23.9,22],"type":"box","line":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<!--/html_preserve-->
How about checking the variables which are found having collinearity?
E.g. nox with crim.

    plot_ly(training, x = ~nox, y = ~medv, color = ~nox,
             size = ~nox, text = ~paste("Zn: ", zn),type = "scatter", mode="markers" )

<!--html_preserve-->

<script type="application/json" data-for="113c58326ab3">{"x":{"visdat":{"113c643f3b15":["function () ","plotlyVisDat"]},"cur_data":"113c643f3b15","attrs":{"113c643f3b15":{"x":{},"y":{},"text":{},"mode":"markers","color":{},"size":{},"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"title":"nox"},"yaxis":{"domain":[0,1],"title":"medv"},"hovermode":"closest","showlegend":false,"legend":{"y":0.5,"yanchor":"top"}},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.538,0.469,0.458,0.458,0.524,0.524,0.524,0.524,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.499,0.499,0.499,0.499,0.428,0.448,0.448,0.448,0.448,0.448,0.448,0.448,0.439,0.439,0.41,0.411,0.453,0.453,0.453,0.453,0.453,0.4161,0.398,0.398,0.409,0.409,0.413,0.413,0.437,0.437,0.437,0.437,0.437,0.426,0.426,0.449,0.449,0.489,0.489,0.489,0.489,0.464,0.445,0.445,0.445,0.445,0.52,0.52,0.52,0.52,0.52,0.52,0.52,0.547,0.547,0.547,0.547,0.581,0.581,0.581,0.581,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.605,0.605,0.871,0.605,0.605,0.605,0.605,0.605,0.605,0.605,0.605,0.605,0.605,0.51,0.51,0.51,0.51,0.51,0.488,0.488,0.488,0.488,0.488,0.437,0.437,0.437,0.437,0.401,0.422,0.404,0.404,0.403,0.403,0.415,0.489,0.489,0.489,0.489,0.489,0.489,0.489,0.489,0.55,0.55,0.55,0.55,0.507,0.507,0.507,0.504,0.504,0.504,0.504,0.504,0.504,0.504,0.507,0.507,0.507,0.428,0.428,0.428,0.428,0.428,0.431,0.431,0.431,0.431,0.431,0.431,0.392,0.392,0.394,0.647,0.647,0.647,0.647,0.647,0.647,0.647,0.575,0.575,0.464,0.464,0.464,0.447,0.447,0.447,0.447,0.4429,0.4429,0.401,0.4,0.389,0.405,0.405,0.411,0.411,0.437,0.437,0.437,0.437,0.437,0.4,0.4,0.433,0.433,0.433,0.472,0.472,0.472,0.544,0.544,0.544,0.544,0.544,0.544,0.544,0.544,0.544,0.493,0.493,0.493,0.493,0.493,0.46,0.46,0.4379,0.515,0.515,0.515,0.515,0.515,0.515,0.442,0.518,0.484,0.484,0.442,0.442,0.429,0.429,0.429,0.411,0.411,0.41,0.413,0.413,0.77,0.77,0.77,0.77,0.77,0.77,0.77,0.718,0.718,0.718,0.631,0.631,0.671,0.671,0.671,0.671,0.671,0.7,0.7,0.7,0.7,0.7,0.7,0.7,0.7,0.693,0.693,0.693,0.693,0.693,0.693,0.693,0.693,0.693,0.693,0.659,0.659,0.597,0.597,0.679,0.679,0.679,0.679,0.718,0.718,0.614,0.614,0.584,0.679,0.679,0.679,0.584,0.584,0.584,0.713,0.74,0.74,0.74,0.74,0.74,0.74,0.74,0.74,0.713,0.713,0.713,0.713,0.713,0.713,0.713,0.713,0.713,0.713,0.655,0.655,0.655,0.584,0.58,0.58,0.58,0.532,0.58,0.614,0.614,0.532,0.532,0.532,0.532,0.583,0.583,0.583,0.583,0.609,0.609,0.585,0.585,0.585,0.585,0.573,0.573,0.573,0.573],"y":[24,21.6,33.4,28.7,22.9,16.5,15,21.7,18.2,19.9,23.1,17.5,13.6,15.2,14.5,15.6,13.9,14.8,21,13.2,13.1,18.9,20,21,24.7,30.8,25.3,21.2,19.3,20,16.6,14.4,19.4,20.5,25,24.7,31.6,23.3,19.6,18.7,16,22.2,33,23.5,19.4,22,17.4,24.2,22.8,21.4,20,20.8,21.2,20.3,28,23.9,23.9,22.2,23.6,28.7,22.6,22,22.9,28.4,21.4,38.7,33.2,19.3,20.1,19.5,20.4,19.8,19.4,21.7,18.8,18.7,19.2,20.4,20.3,20.5,18.8,21.4,16.2,18,14.3,19.6,15.6,18.1,17.4,17.1,13.3,17.8,14,14.4,15.6,11.8,13.8,15.6,14.6,17.8,15.4,21.5,19.6,15.3,17,15.6,41.3,24.3,23.3,27,50,50,25,50,23.8,23.8,22.3,17.4,19.1,23.1,22.6,29.4,24.6,29.9,37.2,39.8,36.2,37.9,29.6,29.8,34.9,30.5,36.4,31.1,50,33.3,34.6,34.9,32.9,42.3,22.6,24.4,22.5,24.4,21.7,22.4,28.1,23.7,23.3,28.7,21.5,23,21.7,27.5,30.1,44.8,50,37.6,31.6,46.7,31.5,24.3,41.7,48.3,31.5,23.7,23.3,22,20.1,23.7,18.5,26.2,24.4,24.8,29.6,42.8,21.9,20.9,44,50,36,33.8,48.8,31,36.5,22.8,50,43.5,20.7,21.1,25.2,32.4,32,33.2,29.1,35.4,46,50,32.2,22,23.2,22.3,28.5,27.9,23.9,21.7,28.6,27.1,20.3,22.5,29,22,26.4,33.1,36.1,28.4,28.2,22.8,20.3,16.1,19.4,23.8,16.2,17.8,19.8,23.1,23.8,20.4,18.5,25,24.6,22.6,19.8,17.1,22.2,20.7,19.5,18.5,20.6,18.7,32.7,16.5,23.9,31.2,17.5,17.2,23.1,26.6,22.9,24.1,18.6,30.1,18.2,20.6,17.8,21.7,22.7,25,19.9,20.8,16.8,21.9,27.5,21.9,50,50,15,13.9,13.3,13.1,10.9,11.3,12.3,10.5,7.4,10.2,11.5,15.1,9.7,13.8,12.7,13.1,12.5,8.5,5,7.2,12.1,8.3,8.5,11.9,27.9,17.9,16.3,7.2,7.5,10.4,8.8,8.4,14.2,20.8,13.4,11.7,8.3,10.9,9.5,14.5,14.1,16.1,11.7,8.7,8.4,17.1,18.4,15.4,10.8,14.9,12.6,14.1,13.4,15.2,17.8,12.7,13.5,14.9,20,16.4,20.2,21.4,19.9,19,19.1,19.1,20.1,19.9,19.6,23.2,29.8,12,23,23.7,25,21.8,20.6,21.2,19.1,20.6,15.2,7,21.8,18.3,21.2,16.8,22.4,20.6,23.9,22],"text":["Zn:  18","Zn:  0","Zn:  0","Zn:  0","Zn:  12.5","Zn:  12.5","Zn:  12.5","Zn:  12.5","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  75","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  21","Zn:  21","Zn:  85","Zn:  100","Zn:  25","Zn:  25","Zn:  25","Zn:  25","Zn:  25","Zn:  17.5","Zn:  80","Zn:  80","Zn:  12.5","Zn:  12.5","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  25","Zn:  25","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  28","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  45","Zn:  45","Zn:  45","Zn:  45","Zn:  60","Zn:  80","Zn:  80","Zn:  80","Zn:  95","Zn:  95","Zn:  82.5","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  30","Zn:  30","Zn:  30","Zn:  30","Zn:  30","Zn:  22","Zn:  22","Zn:  22","Zn:  22","Zn:  22","Zn:  22","Zn:  80","Zn:  80","Zn:  90","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  20","Zn:  40","Zn:  40","Zn:  40","Zn:  40","Zn:  20","Zn:  20","Zn:  90","Zn:  90","Zn:  55","Zn:  52.5","Zn:  52.5","Zn:  80","Zn:  80","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  70","Zn:  70","Zn:  34","Zn:  34","Zn:  34","Zn:  33","Zn:  33","Zn:  33","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  35","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  35","Zn:  0","Zn:  55","Zn:  55","Zn:  0","Zn:  0","Zn:  85","Zn:  40","Zn:  40","Zn:  60","Zn:  60","Zn:  90","Zn:  80","Zn:  80","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0","Zn:  0"],"mode":"markers","type":"scatter","marker":{"size":[37.8215767634855,24.9377593360996,22.8838174273859,22.8838174273859,35.207468879668,35.207468879668,35.207468879668,35.207468879668,37.8215767634855,37.8215767634855,37.8215767634855,37.8215767634855,37.8215767634855,37.8215767634855,37.8215767634855,37.8215767634855,37.8215767634855,37.8215767634855,37.8215767634855,37.8215767634855,37.8215767634855,30.5394190871369,30.5394190871369,30.5394190871369,30.5394190871369,17.2821576763485,21.0165975103734,21.0165975103734,21.0165975103734,21.0165975103734,21.0165975103734,21.0165975103734,21.0165975103734,19.3360995850622,19.3360995850622,13.9211618257261,14.1078838174274,21.9502074688797,21.9502074688797,21.9502074688797,21.9502074688797,21.9502074688797,15.0601659751037,11.6804979253112,11.6804979253112,13.7344398340249,13.7344398340249,14.4813278008299,14.4813278008299,18.9626556016597,18.9626556016597,18.9626556016597,18.9626556016597,18.9626556016597,16.9087136929461,16.9087136929461,21.2033195020747,21.2033195020747,28.6721991701245,28.6721991701245,28.6721991701245,28.6721991701245,24.0041493775934,20.4564315352697,20.4564315352697,20.4564315352697,20.4564315352697,34.4605809128631,34.4605809128631,34.4605809128631,34.4605809128631,34.4605809128631,34.4605809128631,34.4605809128631,39.5020746887967,39.5020746887967,39.5020746887967,39.5020746887967,45.850622406639,45.850622406639,45.850622406639,45.850622406639,53.8796680497925,53.8796680497925,53.8796680497925,53.8796680497925,53.8796680497925,53.8796680497925,53.8796680497925,53.8796680497925,53.8796680497925,53.8796680497925,53.8796680497925,53.8796680497925,100,100,100,100,100,100,100,100,100,100,100,100,50.3319502074689,50.3319502074689,100,50.3319502074689,50.3319502074689,50.3319502074689,50.3319502074689,50.3319502074689,50.3319502074689,50.3319502074689,50.3319502074689,50.3319502074689,50.3319502074689,32.5933609958506,32.5933609958506,32.5933609958506,32.5933609958506,32.5933609958506,28.4854771784232,28.4854771784232,28.4854771784232,28.4854771784232,28.4854771784232,18.9626556016597,18.9626556016597,18.9626556016597,18.9626556016597,12.2406639004149,16.1618257261411,12.8008298755187,12.8008298755187,12.6141078838174,12.6141078838174,14.8547717842324,28.6721991701245,28.6721991701245,28.6721991701245,28.6721991701245,28.6721991701245,28.6721991701245,28.6721991701245,28.6721991701245,40.0622406639004,40.0622406639004,40.0622406639004,40.0622406639004,32.0331950207469,32.0331950207469,32.0331950207469,31.4730290456432,31.4730290456432,31.4730290456432,31.4730290456432,31.4730290456432,31.4730290456432,31.4730290456432,32.0331950207469,32.0331950207469,32.0331950207469,17.2821576763485,17.2821576763485,17.2821576763485,17.2821576763485,17.2821576763485,17.8423236514523,17.8423236514523,17.8423236514523,17.8423236514523,17.8423236514523,17.8423236514523,10.5601659751037,10.5601659751037,10.9336099585062,58.1742738589212,58.1742738589212,58.1742738589212,58.1742738589212,58.1742738589212,58.1742738589212,58.1742738589212,44.7302904564315,44.7302904564315,24.0041493775934,24.0041493775934,24.0041493775934,20.8298755186722,20.8298755186722,20.8298755186722,20.8298755186722,20.0643153526971,20.0643153526971,12.2406639004149,12.0539419087137,10,12.9875518672199,12.9875518672199,14.1078838174274,14.1078838174274,18.9626556016597,18.9626556016597,18.9626556016597,18.9626556016597,18.9626556016597,12.0539419087137,12.0539419087137,18.2157676348548,18.2157676348548,18.2157676348548,25.4979253112033,25.4979253112033,25.4979253112033,38.941908713693,38.941908713693,38.941908713693,38.941908713693,38.941908713693,38.941908713693,38.941908713693,38.941908713693,38.941908713693,29.4190871369295,29.4190871369295,29.4190871369295,29.4190871369295,29.4190871369295,23.2572614107884,23.2572614107884,19.1307053941909,33.5269709543568,33.5269709543568,33.5269709543568,33.5269709543568,33.5269709543568,33.5269709543568,19.896265560166,34.0871369294606,27.7385892116183,27.7385892116183,19.896265560166,19.896265560166,17.4688796680498,17.4688796680498,17.4688796680498,14.1078838174274,14.1078838174274,13.9211618257261,14.4813278008299,14.4813278008299,81.1410788381743,81.1410788381743,81.1410788381743,81.1410788381743,81.1410788381743,81.1410788381743,81.1410788381743,71.4315352697095,71.4315352697095,71.4315352697095,55.1867219917012,55.1867219917012,62.655601659751,62.655601659751,62.655601659751,62.655601659751,62.655601659751,68.0705394190871,68.0705394190871,68.0705394190871,68.0705394190871,68.0705394190871,68.0705394190871,68.0705394190871,68.0705394190871,66.7634854771784,66.7634854771784,66.7634854771784,66.7634854771784,66.7634854771784,66.7634854771784,66.7634854771784,66.7634854771784,66.7634854771784,66.7634854771784,60.4149377593361,60.4149377593361,48.8381742738589,48.8381742738589,64.149377593361,64.149377593361,64.149377593361,64.149377593361,71.4315352697095,71.4315352697095,52.0124481327801,52.0124481327801,46.4107883817427,64.149377593361,64.149377593361,64.149377593361,46.4107883817427,46.4107883817427,46.4107883817427,70.4979253112033,75.5394190871369,75.5394190871369,75.5394190871369,75.5394190871369,75.5394190871369,75.5394190871369,75.5394190871369,75.5394190871369,70.4979253112033,70.4979253112033,70.4979253112033,70.4979253112033,70.4979253112033,70.4979253112033,70.4979253112033,70.4979253112033,70.4979253112033,70.4979253112033,59.6680497925311,59.6680497925311,59.6680497925311,46.4107883817427,45.6639004149377,45.6639004149377,45.6639004149377,36.701244813278,45.6639004149377,52.0124481327801,52.0124481327801,36.701244813278,36.701244813278,36.701244813278,36.701244813278,46.2240663900415,46.2240663900415,46.2240663900415,46.2240663900415,51.0788381742739,51.0788381742739,46.597510373444,46.597510373444,46.597510373444,46.597510373444,44.356846473029,44.356846473029,44.356846473029,44.356846473029],"sizemode":"area","colorbar":{"title":"nox","ticklen":2},"cmin":0.389,"cmax":0.871,"colorscale":[["0","rgba(68,1,84,1)"],["0.0327627939142462","rgba(70,15,94,1)"],["0.0522130013831258","rgba(71,22,101,1)"],["0.0871369294605808","rgba(72,33,112,1)"],["0.0995850622406639","rgba(72,37,116,1)"],["0.111825726141079","rgba(72,40,120,1)"],["0.122406639004149","rgba(71,44,122,1)"],["0.155601659751037","rgba(69,54,127,1)"],["0.20746887966805","rgba(64,70,135,1)"],["0.228215767634855","rgba(62,76,137,1)"],["0.244813278008299","rgba(60,80,138,1)"],["0.271784232365145","rgba(58,88,139,1)"],["0.302904564315353","rgba(54,96,141,1)"],["0.321576763485477","rgba(51,101,141,1)"],["0.33402489626556","rgba(49,104,142,1)"],["0.398340248962656","rgba(44,119,142,1)"],["0.431535269709543","rgba(40,127,142,1)"],["0.461186030428769","rgba(38,134,141,1)"],["0.487551867219917","rgba(37,141,140,1)"],["0.561203319502074","rgba(33,159,136,1)"],["0.630705394190871","rgba(48,175,126,1)"],["0.645228215767635","rgba(50,178,124,1)"],["0.682572614107884","rgba(64,186,117,1)"],["0.79045643153527","rgba(119,207,85,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[0.538,0.469,0.458,0.458,0.524,0.524,0.524,0.524,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.538,0.499,0.499,0.499,0.499,0.428,0.448,0.448,0.448,0.448,0.448,0.448,0.448,0.439,0.439,0.41,0.411,0.453,0.453,0.453,0.453,0.453,0.4161,0.398,0.398,0.409,0.409,0.413,0.413,0.437,0.437,0.437,0.437,0.437,0.426,0.426,0.449,0.449,0.489,0.489,0.489,0.489,0.464,0.445,0.445,0.445,0.445,0.52,0.52,0.52,0.52,0.52,0.52,0.52,0.547,0.547,0.547,0.547,0.581,0.581,0.581,0.581,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.624,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.871,0.605,0.605,0.871,0.605,0.605,0.605,0.605,0.605,0.605,0.605,0.605,0.605,0.605,0.51,0.51,0.51,0.51,0.51,0.488,0.488,0.488,0.488,0.488,0.437,0.437,0.437,0.437,0.401,0.422,0.404,0.404,0.403,0.403,0.415,0.489,0.489,0.489,0.489,0.489,0.489,0.489,0.489,0.55,0.55,0.55,0.55,0.507,0.507,0.507,0.504,0.504,0.504,0.504,0.504,0.504,0.504,0.507,0.507,0.507,0.428,0.428,0.428,0.428,0.428,0.431,0.431,0.431,0.431,0.431,0.431,0.392,0.392,0.394,0.647,0.647,0.647,0.647,0.647,0.647,0.647,0.575,0.575,0.464,0.464,0.464,0.447,0.447,0.447,0.447,0.4429,0.4429,0.401,0.4,0.389,0.405,0.405,0.411,0.411,0.437,0.437,0.437,0.437,0.437,0.4,0.4,0.433,0.433,0.433,0.472,0.472,0.472,0.544,0.544,0.544,0.544,0.544,0.544,0.544,0.544,0.544,0.493,0.493,0.493,0.493,0.493,0.46,0.46,0.4379,0.515,0.515,0.515,0.515,0.515,0.515,0.442,0.518,0.484,0.484,0.442,0.442,0.429,0.429,0.429,0.411,0.411,0.41,0.413,0.413,0.77,0.77,0.77,0.77,0.77,0.77,0.77,0.718,0.718,0.718,0.631,0.631,0.671,0.671,0.671,0.671,0.671,0.7,0.7,0.7,0.7,0.7,0.7,0.7,0.7,0.693,0.693,0.693,0.693,0.693,0.693,0.693,0.693,0.693,0.693,0.659,0.659,0.597,0.597,0.679,0.679,0.679,0.679,0.718,0.718,0.614,0.614,0.584,0.679,0.679,0.679,0.584,0.584,0.584,0.713,0.74,0.74,0.74,0.74,0.74,0.74,0.74,0.74,0.713,0.713,0.713,0.713,0.713,0.713,0.713,0.713,0.713,0.713,0.655,0.655,0.655,0.584,0.58,0.58,0.58,0.532,0.58,0.614,0.614,0.532,0.532,0.532,0.532,0.583,0.583,0.583,0.583,0.609,0.609,0.585,0.585,0.585,0.585,0.573,0.573,0.573,0.573],"line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.389,0.871],"y":[5,50],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"nox","ticklen":2,"len":0.5,"y":1,"lenmode":"fraction","yanchor":"top"},"cmin":0.389,"cmax":0.871,"colorscale":[["0","rgba(68,1,84,1)"],["0.0327627939142462","rgba(70,15,94,1)"],["0.0522130013831258","rgba(71,22,101,1)"],["0.0871369294605808","rgba(72,33,112,1)"],["0.0995850622406639","rgba(72,37,116,1)"],["0.111825726141079","rgba(72,40,120,1)"],["0.122406639004149","rgba(71,44,122,1)"],["0.155601659751037","rgba(69,54,127,1)"],["0.20746887966805","rgba(64,70,135,1)"],["0.228215767634855","rgba(62,76,137,1)"],["0.244813278008299","rgba(60,80,138,1)"],["0.271784232365145","rgba(58,88,139,1)"],["0.302904564315353","rgba(54,96,141,1)"],["0.321576763485477","rgba(51,101,141,1)"],["0.33402489626556","rgba(49,104,142,1)"],["0.398340248962656","rgba(44,119,142,1)"],["0.431535269709543","rgba(40,127,142,1)"],["0.461186030428769","rgba(38,134,141,1)"],["0.487551867219917","rgba(37,141,140,1)"],["0.561203319502074","rgba(33,159,136,1)"],["0.630705394190871","rgba(48,175,126,1)"],["0.645228215767635","rgba(50,178,124,1)"],["0.682572614107884","rgba(64,186,117,1)"],["0.79045643153527","rgba(119,207,85,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[0.389,0.871]},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<!--/html_preserve-->
Similar trend with medv exists in nox and crim features. Let's move
ahead.

Which features should we remove
-------------------------------

Variance inflation factor is a technic that can be used for feature
selection.

    model = lm(medv~., data = training)
    vif(model)

    ##      crim        zn     indus      chas       nox        rm       age 
    ##  2.128848  2.387983  4.084376  1.076718  4.359516  1.870169  3.305758 
    ##       dis       rad       tax   ptratio     black     lstat 
    ##  4.120336  8.443791 10.152816  1.812406  1.405746  2.929285

By using vif values and feature significancy in the model, feature are
eliminated to reduce variance inflation and to have the significant
features in the model.

The following model seems to fit good according to this method.

    model = lm(medv~.-dis-indus-chas-age-zn-nox-crim-tax-rad, data = training)
    summary(model)

    ## 
    ## Call:
    ## lm(formula = medv ~ . - dis - indus - chas - age - zn - nox - 
    ##     crim - tax - rad, data = training)
    ## 
    ## Residuals:
    ##     Min      1Q  Median      3Q     Max 
    ## -14.142  -2.856  -0.662   1.682  30.585 
    ## 
    ## Coefficients:
    ##              Estimate Std. Error t value Pr(>|t|)    
    ## (Intercept) 13.319134   4.664624   2.855  0.00455 ** 
    ## rm           4.694079   0.466507  10.062  < 2e-16 ***
    ## ptratio     -0.960232   0.128464  -7.475 6.23e-13 ***
    ## black        0.010218   0.003229   3.165  0.00169 ** 
    ## lstat       -0.513637   0.051092 -10.053  < 2e-16 ***
    ## ---
    ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
    ## 
    ## Residual standard error: 4.876 on 351 degrees of freedom
    ## Multiple R-squared:  0.7104, Adjusted R-squared:  0.7071 
    ## F-statistic: 215.2 on 4 and 351 DF,  p-value: < 2.2e-16

    vif(model)

    ##       rm  ptratio    black    lstat 
    ## 1.626664 1.196178 1.210080 1.900563

    pred <- predict(model, testing)

The following plot shows testing values against predictions. The trend
looks linear, so we can say model made OK. But there are some outliers,
which means that there is some variance which is not be able to
explained by the model. The study

    plot_ly(testing, x = pred, y = ~medv,type = "scatter",mode="markers")

<!--html_preserve-->

<script type="application/json" data-for="113c3b0146aa">{"x":{"visdat":{"113c7483545a":["function () ","plotlyVisDat"]},"cur_data":"113c7483545a","attrs":{"113c7483545a":{"x":[31.8977778152079,30.2290514860364,21.914668031031,22.0749021303987,24.1697201127391,20.8920550309877,15.7135212209294,18.2379905029337,18.0615501178666,16.684780755735,21.0315598104675,12.0434032782068,18.8081525347794,13.8591193261801,31.7433786479656,29.3618513491752,25.4948732165701,22.3112757776734,25.0677190324872,17.1505054901669,31.7332131182085,25.3062450040548,22.3358924558889,21.6407658886773,24.1781455471301,25.3614215510643,25.2605293910825,24.1570933523496,27.3308934085592,21.2304138038574,25.8576844026003,23.7921523015815,34.9298971819619,24.0223869690017,25.1831108154091,18.5793112111117,16.2819766259545,26.5711648010581,24.1882492242237,19.4827299544616,23.0520199179778,20.1383526234894,19.1281530520466,13.1993819389396,10.9958942850668,20.8411047099031,21.1027780514801,16.5426503683939,14.8454393026187,20.5683863716004,16.5663930012323,40.7803792711455,24.7411928841996,26.8942671143778,24.4626260643473,28.1721446205473,19.3470500133717,34.7123817818957,31.1521534939682,32.5915773890561,30.9384449185561,33.7788046003262,28.3356905121173,38.1226297560885,39.4271555519015,12.7394525508965,12.5469990018713,23.6354186694144,28.2544505359898,32.5502578576459,27.7290673655424,23.4403639685736,26.8064564694526,25.2698318144716,18.6181701996184,22.9319180028707,22.8338639084248,24.1145186384192,33.4134853607896,36.3747870877086,30.0879591025295,26.2138289981704,32.1739734847204,30.3442117602545,32.5519606924162,37.7454706381181,21.9360225033259,27.1093017899669,30.6627677143222,32.2365830089773,31.2130580952345,25.3718256279125,25.0257258785722,21.8556817688219,24.9547067386029,25.0241044879798,20.5386090822094,23.4227183004729,25.0807443301574,22.2017285346862,21.0690439917852,29.0581793364437,20.0972947452681,6.5516921529307,27.2120782481668,29.341544903562,20.4935584514689,3.14779244951628,-2.10089949833028,15.9697549426974,21.8464535856894,1.61397150298414,6.9232992848409,16.556616057057,9.45367050885156,12.3311899258574,12.7289795064224,9.94392981904046,17.7591643726649,15.7799636814626,14.6296850176573,-2.95740047629088,19.5582146381831,13.5146914345814,12.9277603186845,16.8260516912975,14.2095680547693,15.2606307985249,12.6393703074484,13.8757543880061,12.3644612297769,17.2343120027822,18.5452388514161,15.9623218935756,15.7593583490525,20.3265800156737,20.4445199874766,13.6823526813573,13.5621839723306,18.8124224223744,17.5740650284892,20.3446873115051,5.93424991218904,16.8077035224087,19.3014485450859,19.7748214796945,16.4765664857659,13.3808338899987,17.3118971496636,21.4674575926295],"y":{},"mode":"markers","alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"title":"medv"},"xaxis":{"domain":[0,1]},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[31.8977778152079,30.2290514860364,21.914668031031,22.0749021303987,24.1697201127391,20.8920550309877,15.7135212209294,18.2379905029337,18.0615501178666,16.684780755735,21.0315598104675,12.0434032782068,18.8081525347794,13.8591193261801,31.7433786479656,29.3618513491752,25.4948732165701,22.3112757776734,25.0677190324872,17.1505054901669,31.7332131182085,25.3062450040548,22.3358924558889,21.6407658886773,24.1781455471301,25.3614215510643,25.2605293910825,24.1570933523496,27.3308934085592,21.2304138038574,25.8576844026003,23.7921523015815,34.9298971819619,24.0223869690017,25.1831108154091,18.5793112111117,16.2819766259545,26.5711648010581,24.1882492242237,19.4827299544616,23.0520199179778,20.1383526234894,19.1281530520466,13.1993819389396,10.9958942850668,20.8411047099031,21.1027780514801,16.5426503683939,14.8454393026187,20.5683863716004,16.5663930012323,40.7803792711455,24.7411928841996,26.8942671143778,24.4626260643473,28.1721446205473,19.3470500133717,34.7123817818957,31.1521534939682,32.5915773890561,30.9384449185561,33.7788046003262,28.3356905121173,38.1226297560885,39.4271555519015,12.7394525508965,12.5469990018713,23.6354186694144,28.2544505359898,32.5502578576459,27.7290673655424,23.4403639685736,26.8064564694526,25.2698318144716,18.6181701996184,22.9319180028707,22.8338639084248,24.1145186384192,33.4134853607896,36.3747870877086,30.0879591025295,26.2138289981704,32.1739734847204,30.3442117602545,32.5519606924162,37.7454706381181,21.9360225033259,27.1093017899669,30.6627677143222,32.2365830089773,31.2130580952345,25.3718256279125,25.0257258785722,21.8556817688219,24.9547067386029,25.0241044879798,20.5386090822094,23.4227183004729,25.0807443301574,22.2017285346862,21.0690439917852,29.0581793364437,20.0972947452681,6.5516921529307,27.2120782481668,29.341544903562,20.4935584514689,3.14779244951628,-2.10089949833028,15.9697549426974,21.8464535856894,1.61397150298414,6.9232992848409,16.556616057057,9.45367050885156,12.3311899258574,12.7289795064224,9.94392981904046,17.7591643726649,15.7799636814626,14.6296850176573,-2.95740047629088,19.5582146381831,13.5146914345814,12.9277603186845,16.8260516912975,14.2095680547693,15.2606307985249,12.6393703074484,13.8757543880061,12.3644612297769,17.2343120027822,18.5452388514161,15.9623218935756,15.7593583490525,20.3265800156737,20.4445199874766,13.6823526813573,13.5621839723306,18.8124224223744,17.5740650284892,20.3446873115051,5.93424991218904,16.8077035224087,19.3014485450859,19.7748214796945,16.4765664857659,13.3808338899987,17.3118971496636,21.4674575926295],"y":[34.7,36.2,27.1,18.9,18.9,20.4,20.2,18.2,19.6,16.6,18.4,12.7,14.5,13.5,34.9,26.6,24.7,19.7,23.4,18.9,35.4,25,20.9,21.7,23.4,24.1,24.8,22.9,26.6,22.5,25,20.6,43.8,27.5,26.5,18.6,19.5,22.8,18.5,18.3,21.2,19.3,22,17.3,15.7,19.2,23,18.4,13.4,19.4,13.1,50,22.7,23.6,23.2,32.5,26.4,50,32,37,29.1,30.3,24.1,48.5,50,20,19.3,25,26.7,31.7,29,24,25.1,22.2,17.6,24.3,20.5,24.5,30.1,43.1,30.7,24.4,35.2,33.1,35.1,45.4,20.1,24.8,37.3,24.8,33.4,22.1,21.6,21,23.1,23,22.2,19.3,19.4,21.1,19,24.5,22.6,23.1,50,50,50,13.8,13.8,10.2,10.4,8.8,7.2,23.2,6.3,5.6,5,17.2,27.5,15,17.2,7,16.7,10.2,11,14.3,13.4,9.6,12.8,10.5,11.8,13,16.1,14.9,14.1,17.7,19.5,13.8,13.3,16.7,14.6,21.4,8.1,13.6,20.1,24.5,23.1,19.7,17.5,11.9],"mode":"markers","type":"scatter","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<!--/html_preserve-->
    plot(model)

![](2017-5-21-Feature-Selection_files/figure-markdown_strict/unnamed-chunk-11-2.png)![](2017-5-21-Feature-Selection_files/figure-markdown_strict/unnamed-chunk-11-3.png)![](2017-5-21-Feature-Selection_files/figure-markdown_strict/unnamed-chunk-11-4.png)![](2017-5-21-Feature-Selection_files/figure-markdown_strict/unnamed-chunk-11-5.png)

So we should better include some other variables, but which?

The earth package implements variable importance based on Generalized
cross validation (GCV), number of subset models the variable occurs
(nsubsets) and residual sum of squares (RSS). I tried this method on the
data as follows:

    marsModel <- earth(medv~., data=training)
    ev <- evimp (marsModel,trim = FALSE)
    ev

    ##             nsubsets   gcv    rss
    ## rm                19 100.0  100.0
    ## lstat             18  62.2   63.4
    ## ptratio           16  31.5   34.8
    ## nox               15  27.6   31.1
    ## dis               14  26.9   30.1
    ## crim              11  19.8   23.2
    ## tax                9  14.4   18.3
    ## rad                7  10.8   14.8
    ## black              5   4.8   10.2
    ## indus              3   4.0    8.0
    ## zn-unused          0   0.0    0.0
    ## chas-unused        0   0.0    0.0
    ## age-unused         0   0.0    0.0

Our model has rm, ptratio, black and lstat. So we correctly select the
first 3 features. black is also in the features Earth package finds as
significant but there are more important features. So let's update the
model according to this.

    model = lm(medv~.-indus-chas-age-zn-black-rad, data = training)
    summary(model)

    ## 
    ## Call:
    ## lm(formula = medv ~ . - indus - chas - age - zn - black - rad, 
    ##     data = training)
    ## 
    ## Residuals:
    ##      Min       1Q   Median       3Q      Max 
    ## -12.6172  -2.8600  -0.5911   2.0034  28.4226 
    ## 
    ## Coefficients:
    ##               Estimate Std. Error t value Pr(>|t|)    
    ## (Intercept)  3.482e+01  5.370e+00   6.485 3.04e-10 ***
    ## crim        -4.968e-02  4.773e-02  -1.041 0.298595    
    ## nox         -1.484e+01  4.057e+00  -3.658 0.000293 ***
    ## rm           4.180e+00  4.557e-01   9.173  < 2e-16 ***
    ## dis         -1.068e+00  1.855e-01  -5.760 1.85e-08 ***
    ## tax         -9.173e-04  2.535e-03  -0.362 0.717681    
    ## ptratio     -1.016e+00  1.400e-01  -7.259 2.57e-12 ***
    ## lstat       -5.688e-01  5.652e-02 -10.062  < 2e-16 ***
    ## ---
    ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
    ## 
    ## Residual standard error: 4.727 on 348 degrees of freedom
    ## Multiple R-squared:  0.7301, Adjusted R-squared:  0.7247 
    ## F-statistic: 134.5 on 7 and 348 DF,  p-value: < 2.2e-16

    vif(model)

    ##     crim      nox       rm      dis      tax  ptratio    lstat 
    ## 1.819539 3.666052 1.651545 2.537302 2.815370 1.510923 2.474887

    pred <- predict(model, testing)

After adding the features the model slightly performs better. Rsquared
increased to 73% from 71% and residual standart error decreased to 4.7
from 4.8. It is another decision to have a slightly better model but
with a few extra terms. Sometimes simplicity may be more important than
accuracy.

    plot_ly(testing, x = pred, y = ~medv,type = "scatter",mode="markers")

<!--html_preserve-->

<script type="application/json" data-for="113c12b72ac5">{"x":{"visdat":{"113c6b406867":["function () ","plotlyVisDat"]},"cur_data":"113c6b406867","attrs":{"113c6b406867":{"x":[31.9890388172793,29.1859479155445,19.8605027633015,19.6374468017204,22.2296845045656,20.3290267069382,17.2821061947492,18.6519294547857,17.9596390893424,16.0603288462324,20.2921920780203,11.6686151733456,18.6574263806458,15.0366028708161,32.1093551543368,29.201613143657,25.3845755602389,21.0066024929545,24.009995261472,15.2437586409683,28.7217504777975,22.1534474143204,21.8854482880669,22.5476935786518,25.0639161852233,26.792116181412,25.6875630867585,24.6739835615891,28.39235142172,22.2328432990116,27.7099574487943,25.4313269078274,36.5967209933115,25.3051096307215,26.4442101409122,23.3343525140144,18.3511765612105,27.6484519954006,26.0042101722528,21.3992256418545,24.2683823568484,21.4835378283464,20.570253005857,14.5633484954627,12.683610153428,21.1698704132443,21.4165316295621,16.7543145186437,12.3445981806927,19.633089912293,17.4715906365382,41.2733992056146,25.6895508830904,28.962514727814,25.7289505990253,30.474978657178,21.5958791293001,36.1008405453013,33.0272646240044,31.7564938607105,31.2472049323789,32.7232457012347,28.2405211903772,38.6961693834011,39.9824596121743,13.4576914820431,13.4296453792017,24.643681637721,29.7960800390006,33.4339002080546,28.9509834738678,24.6719643170099,27.1727867616039,24.0036518768895,16.4783858445688,20.4166663004511,20.3539696844501,21.8238307063696,34.2649622112321,36.7624889590467,30.359488960731,27.575984717021,32.5646930535205,31.0429085589984,34.2376867387341,38.4452410286825,19.3727373623887,25.89131629927,31.3749913247261,30.4247732877613,32.9410913969115,27.1048614627783,25.9756011624213,21.7890648876742,25.2139647861338,24.4145100829356,19.6838257325596,23.7145901976281,24.5346163281464,20.7335132919119,20.7847650407853,26.2505627994765,17.7105600928451,10.603846725901,28.4063973059128,30.3580064798395,21.6641885315958,2.69976544539012,-2.65801447231603,14.9864039337182,17.1342814905529,1.60110344701492,5.47539402626395,15.3441940589727,8.72381982444139,10.262003674468,9.19119592743589,11.3704828061324,19.9370530293641,19.0924838211773,18.2559389087195,-2.78402568591595,18.7511574707757,17.7537687048297,14.8247253370154,18.0327971937941,14.356049653398,16.5911547046192,10.8058462428686,11.360809556246,13.412044509541,16.2390309688544,16.8229734910374,17.4491709946932,17.2314706131728,18.5002529343835,18.3031068439704,14.3929582032693,14.3972745619274,18.3501736617271,17.3476402839638,20.3604012349256,7.16128622557482,17.4412903727367,19.8672044310799,20.7578453463347,16.9666089478582,13.7772841080636,18.3923318002007,22.7775129786253],"y":{},"mode":"markers","alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"title":"medv"},"xaxis":{"domain":[0,1]},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[31.9890388172793,29.1859479155445,19.8605027633015,19.6374468017204,22.2296845045656,20.3290267069382,17.2821061947492,18.6519294547857,17.9596390893424,16.0603288462324,20.2921920780203,11.6686151733456,18.6574263806458,15.0366028708161,32.1093551543368,29.201613143657,25.3845755602389,21.0066024929545,24.009995261472,15.2437586409683,28.7217504777975,22.1534474143204,21.8854482880669,22.5476935786518,25.0639161852233,26.792116181412,25.6875630867585,24.6739835615891,28.39235142172,22.2328432990116,27.7099574487943,25.4313269078274,36.5967209933115,25.3051096307215,26.4442101409122,23.3343525140144,18.3511765612105,27.6484519954006,26.0042101722528,21.3992256418545,24.2683823568484,21.4835378283464,20.570253005857,14.5633484954627,12.683610153428,21.1698704132443,21.4165316295621,16.7543145186437,12.3445981806927,19.633089912293,17.4715906365382,41.2733992056146,25.6895508830904,28.962514727814,25.7289505990253,30.474978657178,21.5958791293001,36.1008405453013,33.0272646240044,31.7564938607105,31.2472049323789,32.7232457012347,28.2405211903772,38.6961693834011,39.9824596121743,13.4576914820431,13.4296453792017,24.643681637721,29.7960800390006,33.4339002080546,28.9509834738678,24.6719643170099,27.1727867616039,24.0036518768895,16.4783858445688,20.4166663004511,20.3539696844501,21.8238307063696,34.2649622112321,36.7624889590467,30.359488960731,27.575984717021,32.5646930535205,31.0429085589984,34.2376867387341,38.4452410286825,19.3727373623887,25.89131629927,31.3749913247261,30.4247732877613,32.9410913969115,27.1048614627783,25.9756011624213,21.7890648876742,25.2139647861338,24.4145100829356,19.6838257325596,23.7145901976281,24.5346163281464,20.7335132919119,20.7847650407853,26.2505627994765,17.7105600928451,10.603846725901,28.4063973059128,30.3580064798395,21.6641885315958,2.69976544539012,-2.65801447231603,14.9864039337182,17.1342814905529,1.60110344701492,5.47539402626395,15.3441940589727,8.72381982444139,10.262003674468,9.19119592743589,11.3704828061324,19.9370530293641,19.0924838211773,18.2559389087195,-2.78402568591595,18.7511574707757,17.7537687048297,14.8247253370154,18.0327971937941,14.356049653398,16.5911547046192,10.8058462428686,11.360809556246,13.412044509541,16.2390309688544,16.8229734910374,17.4491709946932,17.2314706131728,18.5002529343835,18.3031068439704,14.3929582032693,14.3972745619274,18.3501736617271,17.3476402839638,20.3604012349256,7.16128622557482,17.4412903727367,19.8672044310799,20.7578453463347,16.9666089478582,13.7772841080636,18.3923318002007,22.7775129786253],"y":[34.7,36.2,27.1,18.9,18.9,20.4,20.2,18.2,19.6,16.6,18.4,12.7,14.5,13.5,34.9,26.6,24.7,19.7,23.4,18.9,35.4,25,20.9,21.7,23.4,24.1,24.8,22.9,26.6,22.5,25,20.6,43.8,27.5,26.5,18.6,19.5,22.8,18.5,18.3,21.2,19.3,22,17.3,15.7,19.2,23,18.4,13.4,19.4,13.1,50,22.7,23.6,23.2,32.5,26.4,50,32,37,29.1,30.3,24.1,48.5,50,20,19.3,25,26.7,31.7,29,24,25.1,22.2,17.6,24.3,20.5,24.5,30.1,43.1,30.7,24.4,35.2,33.1,35.1,45.4,20.1,24.8,37.3,24.8,33.4,22.1,21.6,21,23.1,23,22.2,19.3,19.4,21.1,19,24.5,22.6,23.1,50,50,50,13.8,13.8,10.2,10.4,8.8,7.2,23.2,6.3,5.6,5,17.2,27.5,15,17.2,7,16.7,10.2,11,14.3,13.4,9.6,12.8,10.5,11.8,13,16.1,14.9,14.1,17.7,19.5,13.8,13.3,16.7,14.6,21.4,8.1,13.6,20.1,24.5,23.1,19.7,17.5,11.9],"mode":"markers","type":"scatter","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<!--/html_preserve-->
    plot(model)

![](2017-5-21-Feature-Selection_files/figure-markdown_strict/unnamed-chunk-14-2.png)![](2017-5-21-Feature-Selection_files/figure-markdown_strict/unnamed-chunk-14-3.png)![](2017-5-21-Feature-Selection_files/figure-markdown_strict/unnamed-chunk-14-4.png)![](2017-5-21-Feature-Selection_files/figure-markdown_strict/unnamed-chunk-14-5.png)

The following plot shows real values vs. predictions. Real values are
light gray and as you can see some values are quite far from the trend
and this is probably because of unexplained variations in the data.
Perhaps there are some other factors(not in data) effecting the house
prices and we have no information about them.

    plot(testing$lstat,testing$medv, col="lightgrey")
    points(testing$lstat,pred,col="red")

![](2017-5-21-Feature-Selection_files/figure-markdown_strict/unnamed-chunk-15-1.png)
